# Clean Code Summary

**참고**

아래와 같은 Blockquote는 개인적인 생각입니다.
> 유익한 책입니다.



## Chapter 4 - 주석

주석은 웬만해선 아예 없는 것이 좋다. 코드가 간결하게 잘 작성되어있으면 굳이 코드와 분리되어있는 줄글로 다시 설명할 필요가 없기 때문이다.

이는, 앞선 장에서 작은 메소드 크기, 그리고 좋은 필드와 메소드 이름을 강조한 것과 일맥상통한다. 코드를 줄글에 비유하면 변수 이름은 명사, 메소드 이름은 동사에 대응한다. 따라서 나쁜 이름을 지으면 정보를 전달하기 힘들고, 메소드의 크기가 너무 커질 경우 동사 하나로 많은 일을 표현할 수 없게 된다.

쓸모없는 주석은 그 자체로 잘못되었으며, 필요한 주석은 곧 코드에 문제가 있어 표현력이 떨어진 것을 보완하기 위함이므로 나쁘다고 할 수 있다.

다만, 프로그래밍 언어의 구조가 한정되어 있는 만큼 코드만으로 표현하기 까다로운 정보도 있고, 이러한 경우에만 제한적으로 조심스럽게 주석을 사용해야한다.



## Chapter 7 - 오류 처리

좋은 코드를 작성하기 위해서는 프로그램의 논리 전개를 방해하지 않고 오류를 처리해야 한다. C 스타일의 오류 코드는 호출 코드와 오류 처리 코드가 붙어 있어 코드가 복잡해지므로 예외 처리를 사용하는 것이 좋다.

> 이는 반대로 예외 처리를 사용하면 필연적으로 예외 처리 코드와 오류를 발생시킨 코드가 분리된다는 뜻 아닌가?
> 정상 동작 흐름의 코드와 오류 처리 코드 둘 중 무엇이 떨어지는게 옳은가?
> 또, '작은 메소드'를 잘 지켰다면 무엇이든 상관없지 않은가?

> 예외 처리가 오류 코드 보다 나은 것은 당연히 동의하지만, 오류 처리 코드가 붙어 있을 수 밖에 없기 때문에 나쁘다는 주장은 생각이 더 필요할 것 같다.

확인된 예외(Checked Exception)은 중요한 경우에는 예외 처리를 강제한다는 장점이 있지만, `catch/throw` 의존성으로 인해 OCP를 위반하므로 대부분의 경우 지양하는 것이 좋다.

전반적으로 예외에도 앞선 장과 비슷한 원칙을 적용한다. 우선 예외 메시지는 설명이 충분해 필요한 정보를 모두 제공해야 한다. 또, 여러 예외는 필요하다면 API를 래퍼로 감싸는 조치를 취해서라도 일정한 수준을 아우르는 단계로 엮는 것이 좋다.

한편, 주석과 마찬가지로 꼭 필요한 곳에만 예외 처리를 사용해야 한다. 논리 전개와 같은 부분은 코드를 수정하여 해결하고, `null`의 사용을 지양하여 무의미한 예외가 많이 발생하지 않도록 해야 한다.



## Chapter 8 - 경계

프로젝트에서 아직 개발되지 않은 부분이 있거나, 외부 라이브러리를 사용할 경우 직접 작성하여 잘 알고 있는 코드와 그렇지 않은 코드 사이에 경계가 생기게 된다. 이 경계를 어댑터 패턴이나 래퍼를 사용해 사용자가 바라는 바를 명확히 하는 것이 코드 이해와 유지보수에 좋다.

> 인턴을 하며 기존에 사용하던 프로그램을 리팩토링 한 경험이 있는데, 외주를 맡겼다는 라이브러리가 구조도 엉망일 뿐더러 어떤 문서나 주석도 없이 프론트엔드와 엉켜 있어서 고생을 꽤나 했다. 특히, 이 경우는 프론트엔드도 같은 곳에서 외주를 진행해서 양쪽을 조금씩 맞춰가며 수정해서 구현을 쉽게 하려는 유혹에 쉽게 넘어간 것 같았다.

한편, 인터페이스를 설계할 때도 꼭 필요한 기능만을 제공해 원치 않는 동작을 초래하지 않도록 하는 것이 바람직하다.

> 라이브러리를 사용하다 보면 내가 알아서 조심해서 쓸 테니 더 다양한 인터페이스를 제공했으면 싶은 경우가 있다. 작성자와 사용자는 대립할 수 밖에 없지 않을까.

외부 라이브러리를 처음 사용할 때는 외부 라이브러리의 기초적인 부분에서부터 이해를 바탕으로 테스트를 작성하고, 동작 결과를 확인하며 배워나가는 것이 좋다. 바로 적용하는 것보다 속도가 빠를 뿐더러, 기초적인 테스트를 동시에 작성하기 때문에 만약 사용자가 이해한 것과 라이브러리 작성자가 의도한 것이 달라 나중에 문제가 생겼을 때에도 빨리 이를 짚어낼 수 있다.